document.addEventListener('DOMContentLoaded',function(){console.log('Language switcher initializing...');const toggle=document.getElementById('language-toggle');const menu=document.getElementById('language-menu');const currentLangSpan=document.querySelector('.current-lang');if(!toggle||!menu){console.error('Language switcher elements not found');return}const savedLanguage=localStorage.getItem('cookbook-language')||'en';updateLanguageDisplay(savedLanguage);toggle.addEventListener('click',function(e){e.stopPropagation();menu.classList.toggle('show');console.log('Language menu toggled')});document.addEventListener('click',function(e){if(!toggle.contains(e.target)&&!menu.contains(e.target)){menu.classList.remove('show')}});const langOptions=menu.querySelectorAll('.lang-option');langOptions.forEach(option=>{option.addEventListener('click',function(e){e.stopPropagation();const selectedLang=this.dataset.lang;console.log('Language selected:',selectedLang);langOptions.forEach(opt=>opt.classList.remove('active'));this.classList.add('active');updateLanguageDisplay(selectedLang);localStorage.setItem('cookbook-language',selectedLang);menu.classList.remove('show');showLanguageChangeFeedback(selectedLang)})});function updateLanguageDisplay(lang){const languages={'en':'English','fr':'Français','es':'Español','de':'Deutsch','it':'Italiano','pt':'Português','nl':'Nederlands','ru':'Русский','zh':'中文','ja':'日本語','ko':'한국어'};if(currentLangSpan){currentLangSpan.textContent=languages[lang]||'English'}}function showLanguageChangeFeedback(lang){const notification=document.createElement('div');notification.style.cssText='position: fixed; top: 20px; right: 20px; background: #4CAF50; color: white; padding: 12px 20px; border-radius: 5px; z-index: 10000; font-family: Arial, sans-serif; box-shadow: 0 2px 10px rgba(0,0,0,0.2);';notification.textContent=`Language changed to: ${lang.toUpperCase()}`;document.body.appendChild(notification);setTimeout(()=>{notification.remove()},3000)}console.log('Language switcher initialized successfully')}); 
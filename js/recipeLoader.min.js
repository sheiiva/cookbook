class RecipeLoader{constructor(){this.recipesData=null;this.init()}async init(){try{const response=await fetch('data/recipes.json');this.recipesData=await response.json();this.renderRecipes()}catch(error){console.error('Failed to load recipes:',error);this.renderFallback()}}renderRecipes(){const mainContent=document.querySelector('.main-content');if(!mainContent||!this.recipesData)return;mainContent.innerHTML='';Object.entries(this.recipesData.categories).forEach(([categoryId,category])=>{const recipeList=document.createElement('div');recipeList.className='recipe-list';recipeList.id=`${categoryId}-list`;const title=document.createElement('h2');title.textContent=category.name;recipeList.appendChild(title);const ul=document.createElement('ul');ul.id=`${categoryId}-list`;category.recipes.forEach(recipe=>{const li=document.createElement('li');const a=document.createElement('a');a.href=`recipes/${recipe.file}`;a.textContent=recipe.title;a.setAttribute('data-category',categoryId);a.setAttribute('data-recipe-id',recipe.id);li.appendChild(a);ul.appendChild(li)});recipeList.appendChild(ul);mainContent.appendChild(recipeList)})}renderFallback(){const mainContent=document.querySelector('.main-content');if(!mainContent)return;mainContent.innerHTML=`<div class="recipe-list"><h2>Main Courses</h2><ul id="main-courses-list"><li><a href="recipes/bourguignon.html">Seitan Bourguignon</a></li><li><a href="recipes/lentils_soup.html">Lentils Soup</a></li><li><a href="recipes/moussaka.html">Moussaka</a></li></ul></div><div class="recipe-list"><h2>Desserts</h2><ul id="dessert-list"><li><a href="recipes/banana_bread.html">Banana Bread</a></li><li><a href="recipes/chocolate_truffles.html">Chocolate Truffles</a></li><li><a href="recipes/rice_pudding.html">Rice Pudding</a></li></ul></div>`}getAllRecipes(){if(!this.recipesData)return[];const allRecipes=[];Object.entries(this.recipesData.categories).forEach(([categoryId,category])=>{category.recipes.forEach(recipe=>{allRecipes.push({...recipe,category:categoryId,categoryName:category.name})})});return allRecipes}getRecipesByCategory(categoryId){if(!this.recipesData||!this.recipesData.categories[categoryId])return[];return this.recipesData.categories[categoryId].recipes}}document.addEventListener('DOMContentLoaded',()=>{window.recipeLoader=new RecipeLoader()}); 